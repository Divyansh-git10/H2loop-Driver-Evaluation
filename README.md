# ğŸ› ï¸ Linux Driver Evaluation System

This project implements an **automated evaluation pipeline** for Linux character device driver code â€” including code generated by LLMs.  
The system scores each driver file on:

- âœ… Compilation success  
- âœ… Style compliance  
- âœ… Security heuristics  

It outputs a **detailed JSON report** with component-wise scores.

---

## ğŸ“Œ Features

- âš™ï¸ Compilation check using `gcc`
- ğŸ¯ Style compliance via `checkpatch.pl` (Linux kernel style)
- ğŸ” Security scan for:
  - Buffer overflows
  - Race condition indicators
  - Input validation issues
- ğŸ¤– LLM-generated driver evaluation
- ğŸ§® Score calculation based on weighted metrics
- ğŸ§ª Bonus: Runtime test simulation
- ğŸ’¡ LLM fine-tuning suggestions

---

## ğŸš€ How to Use

1. Upload your `.c` driver file in Colab (e.g., `char_driver_sample.c`)
2. Run each cell in `h2loop.ipynb`:
   - `compile_driver()`
   - `check_style()`
   - `run_security_checks()`
   - `calculate_score()`

3. Final output:  
   ğŸ“„ `evaluation_result.json`  
   Includes compilation, style, and security scores with total

---

## ğŸ§ª Test Files Included

- `char_driver_sample.c` â€” base test driver
- `llm_generated_driver.c` â€” ChatGPT-generated driver
- `test_driver_sim.c` â€” simulates runtime test

---

## ğŸ“Š Sample Output

```json
{
  "compilation": {"success": false, "warnings": 0, "errors": 1},
  "code_quality": {"style_score": 1.0},
  "security": {
    "buffer_safety": 1.0,
    "race_conditions": 0.5,
    "input_validation": 0.4
  },
  "overall_score": 35.83
}
````

---

## ğŸ§  Bonus Tasks

### ğŸ§ª 1. Simulated Runtime Test

A user-space simulation (`test_driver_sim.c`) mimics interaction with the driver (read/write buffer).
â¡ï¸ Output saved in `results/runtime_test_output.txt`

### ğŸ“˜ 2. LLM Evaluation Suggestions

See: `docs/LLM_Suggestions.md`
Covers fine-tuning, prompt engineering, and LLM eval loop improvements.

---

## ğŸ“ Repo Structure

```
evaluation/            â†’ Main Python evaluation pipeline
test_cases/            â†’ Driver input `.c` files
results/               â†’ Output JSON + logs
docs/
â”œâ”€â”€ LLM_Suggestions.md
â”œâ”€â”€ ARCHITECTURE.md
â”œâ”€â”€ RUBRICS.md
â”œâ”€â”€ USER_GUIDE.md
```

---

## ğŸ¥ Demo Recording

ğŸ‘‰ [Watch full walkthrough on Loom](https://www.loom.com/share/3f5a7f0deaaf438fb0cbaa28353cc0b8?sid=51073f74-a089-4dbd-93e4-075835623f6e)

---

## ğŸ‘¤ Author

**Divyansh Gautam**
* ML Internship Assignment â€“ Linux Device Driver Evaluation *

````