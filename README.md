# Linux Driver Evaluation System

This project implements an automated evaluation pipeline for Linux character device driver code â€” including code generated by LLMs. The system scores each driver file on compilation success, style compliance, and security heuristics, and outputs a detailed JSON report.

---

## ðŸ“‚ Features

- **Compilation Check** using `gcc`
- **Style Compliance** via `checkpatch.pl` (Linux kernel style)
- **Security Scan** for:
  - Buffer overflows
  - Race condition indicators
  - Input validation
- **LLM Driver Evaluation**
- **Scoring System** with weight-based metrics
- **Bonus Runtime Test Simulation**
- **LLM Fine-Tuning Suggestions**

---

## ðŸš€ How to Use

1. **Upload your `.c` driver file** to Colab sidebar (e.g. `char_driver_sample.c`)
2. Run each cell in the notebook:
   - `compile_driver()`
   - `check_style()`
   - `run_security_checks()`
   - `calculate_score()`
3. **Final output**:
   - `evaluation_result.json`
   - Contains compilation, style, security scores and total

---

## ðŸ§ª Test Files Included

- `char_driver_sample.c` â€” base C file for testing
- `llm_generated_driver.c` â€” ChatGPT-generated Linux driver
- `test_driver_sim.c` â€” Runtime simulation (bonus)

---

## ðŸ“Š Output Example

```json
{
  "compilation": {"success": false, "warnings": 0, "errors": 1},
  "code_quality": {"style_score": 1.0},
  "security": {
    "buffer_safety": 1.0,
    "race_conditions": 0.5,
    "input_validation": 0.4
  },
  "overall_score": 35.83
}
````

---

## ðŸ§  Bonus Tasks

### ðŸ§ª 1. Simulated Runtime Test

A user-space file (`test_driver_sim.c`) mimics writing to and reading from a device buffer. Output saved in:

```
results/runtime_test_output.txt
```

### ðŸ“˜ 2. LLM Improvement Suggestions

See `docs/LLM_Suggestions.md` for fine-tuning, prompt engineering and LLM eval loop design.

---

## ðŸ“‚ Repo Structure

```
evaluation/            â†’ Main Python pipeline
test_cases/            â†’ .c files for input
results/               â†’ JSON and logs
docs/
â”œâ”€â”€ LLM_Suggestions.md
â”œâ”€â”€ ARCHITECTURE.md
â”œâ”€â”€ RUBRICS.md
â”œâ”€â”€ USER_GUIDE.md
```

---
ðŸŽ¥ **Demo Recording:** [Watch here](https://www.loom.com/share/3f5a7f0deaaf438fb0cbaa28353cc0b8?sid=51073f74-a089-4dbd-93e4-075835623f6e)

## ðŸ‘¤ Author

Divyansh Gautam
ML Internship Assignment â€“ Linux Device Driver Evaluation 

```


